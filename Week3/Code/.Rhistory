qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
shape = Predator.lifestage,
geom =  c("point", "smooth"))  + geom_smooth(method = "lm")
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
shape = Predator.lifestage,
geom = "point")  + geom_smooth(method = "lm")
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
shape = Predator.lifestage,
geom = "point")  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
shape = 3,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
scale_shape_manual = 3,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
points = 3,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw()
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
points = 3,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 4)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 4)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 1)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
#     shape = Predator.lifestage,
geom = c("point", "smooth"))  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 3)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 3)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 5)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = "d")
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = "f")
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = f)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape="3")
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=3)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=10)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=2)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=3)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=4)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=5)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=6)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=7)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=8)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=9)
?geom_point
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=21)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=20)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=103)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=4)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape=17)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + theme_bw() + geom_point(shape = 17)
qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)  + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage,
log="xy")
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "x"
colour = Predator.lifestage)
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "x",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
# load the data
MyDF <- read.csv(datapath)
head(MyDF)
# clear environment
rm(list=ls())
# load in the data
datapath <- "../Data/KeyWestAnnualMeanTemprature.RData"
load(datapath)
# get the data split on time series
t1 = ats[1:99,2]
t2 = ats[2:100,2]
a = cor(t1, t2)
# function to randomply sample the data and return the corelation
GetCor <- function(x, y){
sample1 = sample(x, length(x))
sample2 = sample(y, length(y))
correl = cor(sample1, sample2)
return(correl)
}
# run the function using lapply to vectorize
cors = sapply(1:10000,function(i) GetCor(t1, t2))
plot(density(cors), main = "")
abline(v = a, col = "red")
# calculate what proportion of corelations are greater than the observed.
length(cors[cors>a])/length(cors)
### ggplot practicle for data visualisation.
# clear workspace
rm(list=ls())
# load required packages
require(ggplot2)
# set data path
datapath = "../Data/EcolArchives-E089-51-D1.csv"
# load the data
MyDF <- read.csv(datapath)
head(MyDF)
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "x",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
#      log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
q = q + scale_x_continuous(trans='log2') + scale_y_continuous(trans='log2')
q
p <- qplot(log(Prey.mass),
log(Predator.mass),
facets = Type.of.feeding.interaction ~.,
data = MyDF,
#      log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q = q + scale_x_continuous(trans='log') + scale_y_continuous(trans='log')
q
range(MyDF$Predator.mass)
range(MyDF$PreyMass.mass)
range(MyDF$Prey.mass)
qplot(log(Prey.mass), log(Predator.mass))
qplot(log(Prey.mass), log(Predator.mass), data = MyDF)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, log("xy"))
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, log="xy")
# clear environment
rm(list=ls())
# set data path
datapath = "../Data/EcolArchives-E089-51-D1.csv"
# load the data
MyDF <- read.csv(datapath)
head(MyDF)
# load ggplot2
require(ggplot2)
## using quick plot
# plot of preditor and prey mass
qplot(Prey.mass, Predator.mass, data = MyDF)
# make a log plot
qplot(log(Prey.mass), log(Predator.mass), data = MyDF)
# colour according to feeding interaction
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, colour = Type.of.feeding.interaction)
# as above but change the shape
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, shape = Type.of.feeding.interaction)
# asthetic mappings (chose red but ggplot picked the shade of red)
qplot(log(Prey.mass), log(Predator.mass),
data = MyDF, colour = "red")
# to choose the actual red use I()
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, colour = I("red"))
# you can set axis to be log scaled which is nicer for logs
qplot(Prey.mass, Predator.mass, data = MyDF, log="xy")
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
#      log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q = q + scale_x_continuous(trans='log') + scale_y_continuous(trans='log')
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
#      log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw() + ylim(1e-02, 1e+06)
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
ylim(1e-02, 1e+06),
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
ylim(1e-02, 1e+06),
log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
aes(ylim(1e-02, 1e+06)),
log = "xy",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
aes(ylim(1e-02, 1e+06)),
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
range(MyDF$Prey.mass)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, log="xy")
# clear workspace
rm(list=ls())
# load required packages
require(ggplot2)
# set data path
datapath = "../Data/EcolArchives-E089-51-D1.csv"
# load the data
MyDF <- read.csv(datapath)
head(MyDF)
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
aes(ylim(1e-02, 1e+06)),
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
range(MyDF$Prey.mass)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, log="xy")
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
#      aes(ylim(1e-02, 1e+06)),
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm") + geom_point(shape = 17) + theme_bw()
q
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 17) + theme_bw()
q
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 4) + theme_bw()
q
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
xlab = "Prey Mass in grams",
ylab = "Predator mass in grams"
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw()
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
xlab = "Prey Mass in grams",
ylab = "Predator mass in grams",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw()
q
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw() + theme(legend.position="bottom")
q
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
xlab = "Prey Mass in grams",
ylab = "Predator mass in grams",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw() + theme(legend.position="bottom")
q
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw() + theme(legend.position="bottom")
q
range(MyDF$Prey.mass)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, log="xy")
smooth_vals = predict(lm(log(Predator.mass)~log(Prey.mass)), MyDF)
smooth_vals = predict(lm(log(Predator.mass)~log(Prey.mass)), MyDF)
smooth_vals = predict(lm(log(Predator.mass)~log(Prey.mass)), MyDF)
q
### ggplot practicle for data visualisation.
# clear workspace
rm(list=ls())
# load required packages
require(ggplot2)
# set data path
datapath = "../Data/EcolArchives-E089-51-D1.csv"
# load the data
MyDF <- read.csv(datapath)
head(MyDF)
p <- qplot(Prey.mass,
Predator.mass,
facets = Type.of.feeding.interaction ~.,
data = MyDF,
log = "xy",
xlab = "Prey Mass in grams",
ylab = "Predator mass in grams",
colour = Predator.lifestage)
q = p + geom_smooth(method = "lm", fullrange = TRUE) + geom_point(shape = 9) + theme_bw() + theme(legend.position="bottom")
q
smooth_vals = predict(lm(log(Predator.mass)~log(Prey.mass)), MyDF)
